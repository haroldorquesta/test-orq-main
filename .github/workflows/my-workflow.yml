name: '[Test-Staging] E2E Tests'

on:
  workflow_dispatch:

jobs:
  staging-e2e-tests:
    uses: ./.github/workflows/reusable.yml
    name: Staging E2E Tests
    with:
      environment: staging
      tags: '@admin'
      slack_environment: 'Staging'
      feature_path: 'apps/orquesta-e2e/features/**/*.feature'
    secrets:
      BASE_URL: ${{ secrets.E2E_STAGING_BASE_URL }}
      ORQ_API_URL: ${{ secrets.E2E_STAGING_ORQ_API_URL }}
      SLACK_WEBHOOK_URL: ${{ secrets.E2E_STAGING_SLACK_WEBHOOK_URL }}
      AZURE_CHAT_ENDPOINT: ${{ secrets.E2E_AZURE_CHAT_ENDPOINT }}
      AZURE_COMPLETION_ENDPOINT: ${{ secrets.E2E_AZURE_COMPLETION_ENDPOINT }}
      AZURE_VISION_ENDPOINT: ${{ secrets.E2E_AZURE_VISION_ENDPOINT }}
      AZURE_API_KEY: ${{ secrets.E2E_AZURE_API_KEY }}
      FAL_API_KEY: ${{ secrets.E2E_FAL_API_KEY }}
      CEREBRAS_API_KEY: ${{ secrets.E2E_CEREBRAS_API_KEY }}
      OPENAI_API_KEY: ${{ secrets.E2E_OPENAI_API_KEY }}
      PERPLEXITY_API_KEY: ${{ secrets.E2E_PERPLEXITY_API_KEY }}
      TOGETHERAI_API_KEY: ${{ secrets.E2E_TOGETHERAI_API_KEY }}
      LEONARDO_API_KEY: ${{ secrets.E2E_LEONARDO_API_KEY }}
      GROQ_API_KEY: ${{ secrets.E2E_GROQ_API_KEY }}
      GOOGLEAI_API_KEY: ${{ secrets.E2E_GOOGLEAI_API_KEY }}
      COHERE_API_KEY: ${{ secrets.E2E_COHERE_API_KEY }}
      ANYSCALE_API_KEY: ${{ secrets.E2E_ANYSCALE_API_KEY }}
      ANTHROPIC_API_KEY: ${{ secrets.E2E_ANTHROPIC_API_KEY }}
      GOOGLEVERTEXAI_SERVICE_ACCOUNT: ${{ secrets.E2E_GOOGLEVERTEXAI_SERVICE_ACCOUNT }}
      GOOGLE_VERTEXAI_PROJECT_ID: ${{ secrets.E2E_GOOGLE_VERTEXAI_PROJECT_ID }}
      AWS_BEDROCK_ACCESS_KEY_ID: ${{ secrets.E2E_AWS_BEDROCK_ACCESS_KEY_ID }}
      AWS_BEDROCK_SECRET_ACCESS_KEY: ${{ secrets.E2E_AWS_BEDROCK_SECRET_ACCESS_KEY }}
      LITELLM_BASE_URL: ${{ secrets.E2E_LITELLM_BASE_URL }}
      LITELLM_API_KEY: ${{ secrets.E2E_LITELLM_API_KEY }}
      JINA_API_KEY: ${{ secrets.E2E_JINA_API_KEY }}